//cal.y
%{
#include <stdio.h>
#include <stdlib.h>

int yylex(void);
void yyerror(const char *s);
%}

%token NUMBER

%left '+' '-'

%%
expression:
      expression '+' expression { $$ = $1 + $3; }
    | expression '-' expression { $$ = $1 - $3; }
    | NUMBER                   { $$ = $1; }
    ;

%%

void yyerror(const char *s) {
    fprintf(stderr, "Error: %s\n", s);
}

int main() {
    printf("Enter arithmetic expression:\n");
    if (yyparse() == 0) {
        printf("Parsing completed successfully.\n");
    }
    return 0;
}


//calc.l

%{
#include "y.tab.h"
%}

%%
[0-9]+    { yylval = atoi(yytext); return NUMBER; }
[ \t\n]+  { /* skip whitespace */ }
[\+]      { return '+'; }
[\-]      { return '-'; }
.         { printf("Invalid character: %s\n", yytext); }
%%

int yywrap() {
    return 1;
}

//lex calc.l
//yacc -d calc.y
//gcc lex.yy.c y.tab.c -o calc -ll

